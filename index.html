<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <title>Domain up for grabs</title>
    <link rel="stylesheet" href="/simple.min.css">
    <link rel="icon" href="favicon.svg">    
  </head>
  <body>
    <h1>This domain for sale</h1>
    <p>Contact <a href="mailto:webmaster@example.com">Jon Doe</a> for information</p>
    <p>Payment via crypto <a href="https://opensats.org/projects/btcpayserver"> example</a></p>
    <ul id="domains">      
    </ul>
  </body>
  <script>
    // change http to https
    if (location.protocol !== 'https:') {
      location.replace(`https:${location.href.substring(location.protocol.length)}`);
    }
    (async () => {
    const response = await fetch("https://gist.githubusercontent.com/devmachiine/574c70adad40cab348f8597dc4ed70f9/raw/d9bbe54f45a78bcc2ed306eca1022537e17c6a4d/domains.json");
    const domains = await response.json();
    var ul = document.getElementById("domains");
    for(var i = 0; i < domains.length; i++ )
    { 
        var name = domains[i];
        var li = document.createElement("li");
        li.appendChild(document.createTextNode(name));
        ul.appendChild(li);     
    }
    })(); //iife untill top level await is a thing https://github.com/tc39/proposal-top-level-await
  </script>
</html>
